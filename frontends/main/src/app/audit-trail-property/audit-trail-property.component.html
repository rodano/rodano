<h1 mat-dialog-title>Audit trail for {{ entityName }} {{ property }}</h1>

<mat-dialog-content>
	<table
		mat-table
		[dataSource]="trails">
		<ng-container matColumnDef="value">
			<th
				mat-header-cell
				*matHeaderCellDef>
				Value
			</th>
			<td
				mat-cell
				*matCellDef="let trail">
				{{ trail.value }}
			</td>
		</ng-container>

		<ng-container matColumnDef="by">
			<th
				mat-header-cell
				*matHeaderCellDef>
				By
			</th>
			<td
				mat-cell
				*matCellDef="let trail">
				{{ trail.by }}
			</td>
		</ng-container>

		<ng-container matColumnDef="date">
			<th
				mat-header-cell
				*matHeaderCellDef>
				Date
			</th>
			<td
				mat-cell
				*matCellDef="let trail">
				{{ trail.date | dateTimeUTC }}
			</td>
		</ng-container>

		<ng-container matColumnDef="context">
			<th
				mat-header-cell
				*matHeaderCellDef>
				Context
			</th>
			<td
				mat-cell
				*matCellDef="let trail">
				{{ trail.context }}
			</td>
		</ng-container>

		<tr
			mat-header-row
			*matHeaderRowDef="columnsToDisplay"></tr>
		<tr
			mat-row
			*matRowDef="let trail; columns: columnsToDisplay"></tr>
	</table>
</mat-dialog-content>

<mat-dialog-actions>
	<button
		mat-flat-button
		mat-dialog-close>
		Close
	</button>
</mat-dialog-actions>
